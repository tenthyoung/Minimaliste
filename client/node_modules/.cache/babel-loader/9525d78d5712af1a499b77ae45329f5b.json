{"ast":null,"code":"import _regeneratorRuntime from \"/Users/TenthYoung/00-Development/00-Projects/20-project-3/project-3/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/TenthYoung/00-Development/00-Projects/20-project-3/project-3/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _defineProperty from \"/Users/TenthYoung/00-Development/00-Projects/20-project-3/project-3/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"/Users/TenthYoung/00-Development/00-Projects/20-project-3/project-3/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/TenthYoung/00-Development/00-Projects/20-project-3/project-3/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/TenthYoung/00-Development/00-Projects/20-project-3/project-3/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/TenthYoung/00-Development/00-Projects/20-project-3/project-3/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/TenthYoung/00-Development/00-Projects/20-project-3/project-3/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/Users/TenthYoung/00-Development/00-Projects/20-project-3/project-3/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/Users/TenthYoung/00-Development/00-Projects/20-project-3/project-3/client/src/pages/Checkout/Checkout.js\";\nimport React, { Component } from 'react';\nimport './Checkout.css';\nimport CheckoutForm from '../../components/CheckoutForm/CheckoutForm';\n\nvar Checkout =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Checkout, _Component);\n\n  function Checkout(props) {\n    var _this;\n\n    _classCallCheck(this, Checkout);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Checkout).call(this, props));\n\n    _this.handleSubmit = function (evt) {\n      evt.preventDefault(); // this.props.addItem(this.state);\n\n      _this.setState({\n        addressSaved: !_this.state.addressSaved\n      });\n    };\n\n    _this.handleChange = function (evt) {\n      _this.setState(_defineProperty({}, evt.target.name, evt.target.value));\n    };\n\n    _this.editAddress = function (evt) {\n      _this.setState({\n        addressSaved: !_this.state.addressSaved\n      });\n    };\n\n    _this.displayTotalBill = function () {\n      var totalBillwTax = _this.props.totalBill * 1.08;\n\n      _this.setState({\n        totalBillwTax: totalBillwTax\n      });\n\n      var totalBillStr = totalBillwTax.toFixed(2).toString();\n      return totalBillStr;\n    };\n\n    _this.state = {\n      fullname: \"\",\n      address: \"\",\n      city: \"\",\n      state: \"\",\n      country: \"\",\n      zipcode: \"\",\n      addressSaved: false,\n      paymentComplete: false,\n      totalBillwTax: 0\n    };\n    _this.submitPayment = _this.submitPayment.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(Checkout, [{\n    key: \"submitPayment\",\n    value: function () {\n      var _submitPayment = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee(ev) {\n        var _ref, token, response;\n\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return this.props.stripe.createToken({\n                  name: \"Name\"\n                });\n\n              case 2:\n                _ref = _context.sent;\n                token = _ref.token;\n                _context.next = 6;\n                return fetch(\"/charge\", {\n                  method: \"POST\",\n                  headers: {\n                    \"Content-Type\": \"text/plain\"\n                  },\n                  body: token.id\n                });\n\n              case 6:\n                response = _context.sent;\n                if (response.ok) console.log(\"Purchase Complete!\");\n                if (response.ok) this.setState({\n                  paymentComplete: true\n                });\n\n              case 9:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function submitPayment(_x) {\n        return _submitPayment.apply(this, arguments);\n      }\n\n      return submitPayment;\n    }()\n  }, {\n    key: \"render\",\n    value: function render() {\n      if (this.state.complete) return React.createElement(\"h1\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 60\n        },\n        __self: this\n      }, \"Purchase Complete\");\n      return React.createElement(\"div\", {\n        className: \"Checkout\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        id: \"Checkout-form-container\",\n        className: \"container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64\n        },\n        __self: this\n      }, React.createElement(\"h1\", {\n        className: \"Checkout-title roboto letter-spacing\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65\n        },\n        __self: this\n      }, \"SHIPPING ADDRESS\"), React.createElement(\"form\", {\n        onSubmit: this.handleSubmit,\n        className: this.state.addressSaved === false ? \"\" : \"is-hidden\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"Checkout-field-item\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 68\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        className: \"field-label roboto\",\n        htmlFor: \"fullname\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69\n        },\n        __self: this\n      }, \"Full Name\"), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70\n        },\n        __self: this\n      }), React.createElement(\"input\", {\n        id: \"fullname\",\n        className: \"Checkout-input input\",\n        name: \"fullname\",\n        value: this.state.fullname,\n        onChange: this.handleChange,\n        placeholder: \"Full Name\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"Checkout-field-item\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        className: \"field-label\",\n        htmlFor: \"address\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 81\n        },\n        __self: this\n      }, \"Address\"), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 82\n        },\n        __self: this\n      }), React.createElement(\"input\", {\n        id: \"address\",\n        className: \"Checkout-input input\",\n        name: \"address\",\n        value: this.state.address,\n        onChange: this.handleChange,\n        placeholder: \"Address\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        id: \"cityStateRow\",\n        className: \"row columns is-mobile\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 92\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        id: \"city-container\",\n        className: \"Checkout-field-item column is-one-third\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 93\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        className: \"field-label\",\n        htmlFor: \"city\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 94\n        },\n        __self: this\n      }, \"City\"), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 95\n        },\n        __self: this\n      }), React.createElement(\"input\", {\n        id: \"city\",\n        className: \"Checkout-input input city-input\",\n        name: \"city\",\n        value: this.state.city,\n        onChange: this.handleChange,\n        placeholder: \"City\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 96\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"Checkout-field-item column\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 105\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        className: \"field-label\",\n        htmlFor: \"state\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 106\n        },\n        __self: this\n      }, \"State\"), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 107\n        },\n        __self: this\n      }), React.createElement(\"input\", {\n        id: \"state\",\n        className: \"Checkout-input input state-input\",\n        name: \"state\",\n        value: this.state.state,\n        onChange: this.handleChange,\n        placeholder: \"State\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 108\n        },\n        __self: this\n      }))), React.createElement(\"div\", {\n        id: \"countryStateRow\",\n        className: \"row columns is-mobile\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 118\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        id: \"country-container\",\n        className: \"Checkout-field-item column is-one-third\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 119\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        className: \"field-label\",\n        htmlFor: \"country\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 120\n        },\n        __self: this\n      }, \"Country\"), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 121\n        },\n        __self: this\n      }), React.createElement(\"input\", {\n        id: \"country\",\n        className: \"Checkout-input input country-input\",\n        name: \"country\",\n        value: this.state.country,\n        onChange: this.handleChange,\n        placeholder: \"Country\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 122\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"Checkout-field-item column\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 131\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        className: \"field-label\",\n        htmlFor: \"zipcode\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 132\n        },\n        __self: this\n      }, \"Zip Code\"), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 133\n        },\n        __self: this\n      }), React.createElement(\"input\", {\n        id: \"zipcode\",\n        className: \"Checkout-input input state-input\",\n        name: \"zipcode\",\n        value: this.state.zipcode,\n        onChange: this.handleChange,\n        placeholder: \"Zip Code\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 134\n        },\n        __self: this\n      }))), React.createElement(\"button\", {\n        className: \"button is-warning\",\n        onClick: this.saveAddress,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 145\n        },\n        __self: this\n      }, \"Save Address\")), React.createElement(\"div\", {\n        id: \"displayAddressContainerAfterSaved\",\n        className: this.state.addressSaved === true ? \"\" : \"is-hidden\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 149\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        id: \"addresseeName\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 150\n        },\n        __self: this\n      }, this.state.fullname), React.createElement(\"p\", {\n        id: \"address\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 151\n        },\n        __self: this\n      }, this.state.address, \", \", this.state.state, \", \", this.state.country, \", \", this.state.zipcode), React.createElement(\"button\", {\n        id: \"editAddressButton\",\n        className: \"button is-warning\",\n        onClick: this.editAddress,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 152\n        },\n        __self: this\n      }, \"Edit Address\")), React.createElement(\"hr\", {\n        className: \"style-one\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 155\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        id: \"CheckoutTotalBillContainer\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 156\n        },\n        __self: this\n      }, React.createElement(\"h1\", {\n        className: \"Checkout-title roboto letter-spacing\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 157\n        },\n        __self: this\n      }, \"CREDIT CARD\"), React.createElement(\"h1\", {\n        className: \"Checkout-subtitle roboto letter-spacing\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 159\n        },\n        __self: this\n      }, \"Total Bill: $\", this.displayTotalBill()), React.createElement(CheckoutForm, {\n        totalBill: this.state.totalBillwTax,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 161\n        },\n        __self: this\n      }))));\n    }\n  }]);\n\n  return Checkout;\n}(Component);\n\nexport default Checkout;","map":{"version":3,"sources":["/Users/TenthYoung/00-Development/00-Projects/20-project-3/project-3/client/src/pages/Checkout/Checkout.js"],"names":["React","Component","CheckoutForm","Checkout","props","handleSubmit","evt","preventDefault","setState","addressSaved","state","handleChange","target","name","value","editAddress","displayTotalBill","totalBillwTax","totalBill","totalBillStr","toFixed","toString","fullname","address","city","country","zipcode","paymentComplete","submitPayment","bind","ev","stripe","createToken","token","fetch","method","headers","body","id","response","ok","console","log","complete","saveAddress"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport './Checkout.css';\nimport CheckoutForm from '../../components/CheckoutForm/CheckoutForm';\n\nclass Checkout extends Component {\n    constructor(props) {\n        super(props)\n\n        this.state = {\n            fullname: \"\",\n            address: \"\",\n            city: \"\",\n            state: \"\",\n            country: \"\",\n            zipcode: \"\",\n            addressSaved: false,\n            paymentComplete: false,\n            totalBillwTax: 0\n        }\n\n        this.submitPayment = this.submitPayment.bind(this);\n    }\n\n    handleSubmit = (evt) => {\n        evt.preventDefault();\n        // this.props.addItem(this.state);\n        this.setState({ addressSaved: !this.state.addressSaved });\n    }\n\n    handleChange = (evt) => {\n        this.setState({ [evt.target.name]: evt.target.value })\n    }\n\n    editAddress = evt => {\n        this.setState({ addressSaved: !this.state.addressSaved });\n    }\n\n    displayTotalBill = () => {\n        let totalBillwTax = this.props.totalBill * 1.08;\n        this.setState({totalBillwTax: totalBillwTax});\n        let totalBillStr = totalBillwTax.toFixed(2).toString();\n\n        return totalBillStr;\n    }\n\n    async submitPayment(ev) {\n        let {token} = await this.props.stripe.createToken({name: \"Name\"});\n        let response = await fetch(\"/charge\", {\n          method: \"POST\",\n          headers: {\"Content-Type\": \"text/plain\"},\n          body: token.id\n        });\n      \n        if (response.ok) console.log(\"Purchase Complete!\")\n        if (response.ok) this.setState({paymentComplete: true});\n\n      }\n\n    render() {\n        if (this.state.complete) return <h1>Purchase Complete</h1>;\n\n        return (\n            <div className=\"Checkout\">\n                <div id=\"Checkout-form-container\" className=\"container\">\n                    <h1 className='Checkout-title roboto letter-spacing'>SHIPPING ADDRESS</h1>\n\n                    <form onSubmit={this.handleSubmit} className={this.state.addressSaved === false ? \"\" : \"is-hidden\"}>\n                        <div className=\"Checkout-field-item\">\n                            <label className=\"field-label roboto\" htmlFor='fullname'>Full Name</label>\n                            <br />\n                            <input\n                                id='fullname'\n                                className=\"Checkout-input input\"\n                                name='fullname'\n                                value={this.state.fullname}\n                                onChange={this.handleChange}\n                                placeholder='Full Name'\n                            />\n                        </div>\n                        <div className=\"Checkout-field-item\">\n                            <label className=\"field-label\" htmlFor='address'>Address</label>\n                            <br />\n                            <input\n                                id='address'\n                                className=\"Checkout-input input\"\n                                name='address'\n                                value={this.state.address}\n                                onChange={this.handleChange}\n                                placeholder='Address'\n                            />\n                        </div>\n                        <div id=\"cityStateRow\" className=\"row columns is-mobile\">\n                            <div id='city-container' className=\"Checkout-field-item column is-one-third\">\n                                <label className=\"field-label\" htmlFor='city'>City</label>\n                                <br />\n                                <input\n                                    id='city'\n                                    className=\"Checkout-input input city-input\"\n                                    name='city'\n                                    value={this.state.city}\n                                    onChange={this.handleChange}\n                                    placeholder='City'\n                                />\n                            </div>\n                            <div className=\"Checkout-field-item column\">\n                                <label className=\"field-label\" htmlFor='state'>State</label>\n                                <br />\n                                <input\n                                    id='state'\n                                    className=\"Checkout-input input state-input\"\n                                    name='state'\n                                    value={this.state.state}\n                                    onChange={this.handleChange}\n                                    placeholder='State'\n                                />\n                            </div>\n                        </div>\n                        <div id=\"countryStateRow\" className=\"row columns is-mobile\">\n                            <div id='country-container' className=\"Checkout-field-item column is-one-third\">\n                                <label className=\"field-label\" htmlFor='country'>Country</label>\n                                <br />\n                                <input\n                                    id='country'\n                                    className=\"Checkout-input input country-input\"\n                                    name='country'\n                                    value={this.state.country}\n                                    onChange={this.handleChange}\n                                    placeholder='Country'\n                                />\n                            </div>\n                            <div className=\"Checkout-field-item column\">\n                                <label className=\"field-label\" htmlFor='zipcode'>Zip Code</label>\n                                <br />\n                                <input\n                                    id='zipcode'\n                                    className=\"Checkout-input input state-input\"\n                                    name='zipcode'\n                                    value={this.state.zipcode}\n                                    onChange={this.handleChange}\n                                    placeholder='Zip Code'\n                                />\n                            </div>\n                        </div>\n\n                        <button className=\"button is-warning\" onClick={this.saveAddress}>Save Address</button>\n\n                    </form>\n\n                    <div id=\"displayAddressContainerAfterSaved\" className={this.state.addressSaved === true ? \"\" : \"is-hidden\"}>\n                        <p id=\"addresseeName\">{this.state.fullname}</p>\n                        <p id=\"address\">{this.state.address}, {this.state.state}, {this.state.country}, {this.state.zipcode}</p>\n                        <button id=\"editAddressButton\" className=\"button is-warning\" onClick={this.editAddress}>Edit Address</button>\n                    </div>\n\n                    <hr className=\"style-one\" />\n                    <div id=\"CheckoutTotalBillContainer\" >\n                        <h1 className='Checkout-title roboto letter-spacing'>CREDIT CARD</h1>\n\n                        <h1 className='Checkout-subtitle roboto letter-spacing'>Total Bill: ${this.displayTotalBill()}</h1>\n                        {/* <CardElement /> */}\n                        <CheckoutForm totalBill={this.state.totalBillwTax} />\n                    </div>\n                       {/* <button id=\"payBill\" className=\"button is-warning\" onClick={this.submitPayment}>Finalize Payment</button> */}\n                </div>\n            </div>\n        );\n    }\n}\n\nexport default Checkout;\n"]},"metadata":{},"sourceType":"module"}